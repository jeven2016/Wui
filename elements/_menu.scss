.submenu {
  @include make-menu(none) {
    @include border-radius($menu-border-radius);
    @include make-inline-flex;
    flex-direction: column;
    align-items: stretch;
  }

  &.with-box {
    box-shadow: $default-box-shadow;
  }


  &.arrow {
    > .item, .menu > .item {
      //arrow
    }
  }


  > .item {
    @include make-menu-item;

    > .menu-icon {
      margin-right: $menu-icon-margin-right;
    }
  }

  .menu-header {
    padding: $menu-header-padding;
    font-weight: map_get($font-weight, 'normal');
    position: relative;

    @include make-arrow($default-arrow-border, $default-arrow-active-border, null, 'after', map_get($arrow-direction, 'down')) {
      position: absolute;
      right: 0.5rem;
      top: calc(50% - 2px);
    }

    > .menu-icon {
      margin-right: $menu-icon-margin-right;
    }
  }

  &.block {
    width: 100%;
  }

}

.menu {
  @extend .submenu;
  border: $menu-border;

  &.simple {
    border-width: 0;

    > .divider {
      display: none;
    }
  }

  &.float {
    @include make-flex {
      flex-direction: row;
      width: 100%;
    }

    > .item {
      flex: 0 0 auto;
      min-width: unset;
      align-self: center;
      align-items: stretch;

      &.right {
        margin-left: auto !important;
        flex-grow: 1;
        text-align: right;
        justify-content: flex-end;
      }

      &.left {
        margin-right: auto !important;
        flex-grow: 1;
      }
    }

    > .divider {
      display: none;

      & + .item {
        border-left: 1px solid #ccc;
      }
    }
  }

  &.primary {
    > .item {
      &:not(.disabled):not(.active):focus, &:not(.disabled):not(.active):hover {
        color: lighten($blue, 10%);
        background-color: inherit;
      }

      &.active {
        background-color: lighten($blue, 40%);
        border-right: 3px solid $blue;
        margin-right: -1px;
      }
    }
  }

  &.dark, &.dark .submenu {
    background-color: #343949;
    color: darken($white, 30%);

    .menu-header {
      background-color: #5d5e63e6;
      color: darken($white, 10%);

      &:focus, &:hover {
        color: $white;
      }
    }

    .item {
      &.disabled {
        color: darken($white, 40%);
      }

      &:not(.disabled):focus, &:not(.disabled):hover {
        color: $white;
      }

      &.active {
        background-color: $blue;
        color: $white;
      }
    }
  }
}