@keyframes default-loader {

  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }

}

.loader {
  display: none;
  position: absolute;
  width: $loader-size-normal;
  height: $loader-size-normal;
  border: $loader-size-normal * 0.1 solid $gray;
  border-right-color: $blue;
  animation: default-loader 1s linear infinite;
  @include border-radius(50%);
  left: calc((100% - #{$loader-size-normal}) / 2);
  top: calc((100% - #{$loader-size-normal}) / 2);

  &.active {
    display: block;
  }

  &.large {
    left: calc((100% - #{$loader-size-large}) / 2);
    top: calc((100% - #{$loader-size-large}) / 2);
    width: $loader-size-large;
    height: $loader-size-large;
  }

  &.small {
    width: $loader-size-small;
    height: $loader-size-small;
    left: calc((100% - #{$loader-size-small}) / 2);
    top: calc((100% - #{$loader-size-small}) / 2);
  }

  &.primary {

  }
}

.loader-container {
  .loader {
    color: $white;

  }

  &, > .mask, > .loader {
    display: none;
  }

  &.active {
    &, > .mask, > .loader {
      display: block;
    }
  }
}


.circle-loader {
  position: relative;

  $loader-item-count: 12;
  $loader-item-duration: 1.5s;

  &.normal {
    width: 4rem;
    height: 4rem;
  }

  @for $i from 1 through $loader-item-count {
    > .segment#{$i} {
      position: absolute;
      left: 0;
      right: 0;
      width: 100%;
      height: 100%;
      display: flex;
      align-items: flex-start;
      justify-content: center;

      transform: rotate((360deg / $loader-item-count) * ($i - 1));

      > .item {
        display: block;
        border-radius: 100%;
        width: 100%;
        height: 100%;
        animation: item-delay $loader-item-duration infinite ease-in-out both;
        animation-delay: - $loader-item-duration + $loader-item-duration / $loader-item-count * $i;
      }
    }
  }


}

@keyframes item-delay {
  0%, 49%, 100% {
    opacity: 0
  }
  50% {
    opacity: 1
  }
}
